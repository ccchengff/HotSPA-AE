# scripts for 8xA100-40G
mkdir -p logs
STEPS=10 # for quick run, set steps to 10

# 4k
echo "====================================================== 3b, 4k begin ======================================================"
bash scripts/llama_hot_switch.sh 3b 4096 512 hostfile ${STEPS} 1 2>&1 | tee logs/hot_switch_3b_4k.log
echo "====================================================== 3b, 4k end ======================================================"

# 8k
echo "====================================================== 3b, 8k begin ======================================================"
bash scripts/llama_hot_switch.sh 3b 8192 512 hostfile ${STEPS} 1 2>&1 | tee logs/hot_switch_3b_8k.log
echo "====================================================== 3b, 8k end ======================================================"

# 16k
echo "====================================================== 3b, 16k begin ======================================================"
bash scripts/llama_hot_switch.sh 3b 16384 512 hostfile ${STEPS} 1 2>&1 | tee logs/hot_switch_3b_16k.log
echo "====================================================== 3b, 16k end ======================================================"

# 32k
echo "====================================================== 3b, 32k begin ======================================================"
bash scripts/llama_hot_switch.sh 3b 32768 512 hostfile ${STEPS} 1 2>&1 | tee logs/hot_switch_3b_32k.log
echo "====================================================== 3b, 32k end ======================================================"